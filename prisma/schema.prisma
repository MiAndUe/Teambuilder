// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  //url      = env("PRISMA_DB_URL") //one youtube vide put "file:./dev/db"
  url      = env("PRISMA_DB_URL")
} 
//get url from .env file?

//to run migration, run npx prisma migrate dev, and apply to database

model User {
  netid         String  @id @default(cuid())  //@id makes it the primary key. cuid makes random id. uuid is unversial unique id
  name          String  @default("")
  email         String  @unique
}

model Projects{
  title         String @id @default("")
  description   String @default("")
  partnerInfo   String @default("")
  team          Team?
}

model Team {
  id       Int       @id @default(autoincrement())
  name     String
  students Student[] //implicit many to many relationship

  projectId Int       @unique
  project   Projects  @relation(fields: [projectId], references [id])
}

model Student {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  major     String
  email     String   @unique

  teamId    Int      @unique
  team      Team    @relation(fields: [teamId], references: [id])    // This establishes a relation between Student and Team
}
